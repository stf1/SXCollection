#define SXC_ENEMY_LEADER_CH_ARMOR SIDE TYPE RES
  [object]
    silent=yes
    duration=forever
    [filter]
      side={SIDE}
      canrecruit=yes
    [/filter]
    [effect]
      apply_to=resistance
      replace=yes
      [resistance]
        {TYPE}={RES}
      [/resistance]
    [/effect]
  [/object]
#enddef

#define SXC_ENEMY_LEADER_CH_ATTACKS SIDE RANGE TYPE NEWTYPE
  [object]
    silent=yes
    duration=forever
    [filter]
      side={SIDE}
      canrecruit=yes
    [/filter]
    [effect]
      apply_to=attack
      range={RANGE}
      type={TYPE}
      set_type={NEWTYPE}
    [/effect]
  [/object]
#enddef

#define SXC_ENEMY_LEADER_RM_ATTACKS SIDE NAME
  [object]
    silent=yes
    duration=forever
    [filter]
      side={SIDE}
      canrecruit=yes
    [/filter]
    [effect]
      apply_to=remove_attacks
      name={NAME}
    [/effect]
  [/object]
#enddef

#define SXC_ENEMY_REMOVE_ATTACKS X Y NAME
  [object]
    silent=yes
    duration=forever
    [filter]
      x,y={X},{Y}
    [/filter]
    [effect]
      apply_to=remove_attacks
      name={NAME}
    [/effect]
  [/object]
#enddef

#define SXC_ENEMY_LEADER_ABILITY SIDE ABILITYNAME
  [object]
    silent=yes
    duration=forever
    [filter]
      side={SIDE}
      canrecruit=yes
    [/filter]
    [effect]
      apply_to=new_ability
      [abilities]
        {ABILITY_{ABILITYNAME}}
      [/abilities]
    [/effect]
  [/object]
#enddef

#define SXC_ENEMY_MODIFY_ABILITY X Y ABILITYNAME
  [object]
    silent=yes
    duration=forever
    [filter]
      x,y={X},{Y}
    [/filter]
    [effect]
      apply_to=new_ability
      [abilities]
        {ABILITY_{ABILITYNAME}}
      [/abilities]
    [/effect]
  [/object]
#enddef

#define SXC_CREEP_WEAPONS_SPECIAL SIDE UNIT RA TYPE SPCL1 SPCL2
  [event]
    name=recruit
    first_time_only=no
    [object]
      silent=yes
      duration=forever
      [filter]
        x,y=$x1,$y1
        side={SIDE}2
        type={UNIT}
      [/filter]
      [effect]
        apply_to=attack
        type={TYPE}
        range={RA}
        [set_specials]
          {{SPCL1}}
          {{SPCL2}}
        [/set_specials]
      [/effect]
    [/object]
  [/event]
#enddef

#define SXC_ENEMY_WEAPON_BLANK
#enddef

#define SXC_ENEMY_MODIFICATION_2 MP HP MA MD RA RD RES W1 W2 W3 W4
  allow_player=no
  canrecruit=yes
  controller=ai
  disallow_observers=yes
  generate_name=yes
  hidden=yes
  name=Boss
  role=boss
  team_name=Enemies
  unrenamable=yes
  village_gold=0
  [ai]
    aggression=1.0
    attack_depth=1
    caution=0.0
    grouping=no
    passive_leader=yes
    protect_leader=0.0
    protect_leader_radius=0.0
    recruitment_ignore_bad_combat=yes
    recruitment_ignore_bad_movement=yes
    recruitment_pattern=""
    simple_targeting=yes
  [/ai]
  [modifications]
    {TRAIT_FEARLESS}
    [object]
      silent=yes
      duration=forever
      {SXC_ENEMY_WEAPON_{W1}}
      {SXC_ENEMY_WEAPON_{W2}}
      {SXC_ENEMY_WEAPON_{W3}}
      {SXC_ENEMY_WEAPON_{W4}}
      [effect]
        apply_to=movement
        increase={MP}
      [/effect]
      [effect]
        apply_to=hitpoints
        increase={HP}
        increase_total={HP}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_attacks={MA}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_damage={MD}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_attacks={RA}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_damage={RD}
      [/effect]
      [effect]
        apply_to=resistance
        replace=no
        [resistance]
          blade=-{RES}
          pierce=-{RES}
          impact=-{RES}
          fire=-{RES}
          cold=-{RES}
          arcane=-{RES}
        [/resistance]
      [/effect]
      [effect]
        apply_to=movement_costs
        replace=yes
        [movement_costs]
          castle=100
          cave=100
          deep_water=100
          flat=100
          forest=100
          frozen=100
          fungus=100
          hills=100
          impassable=100
          mountains=100
          reef=100
          sand=100
          shallow_water=100
          swamp_water=100
          unwalkable=100
          village=100
        [/movement_costs]
      [/effect]
    [/object]
  [/modifications]
#enddef

#define SXC_ENEMY_SPECIALS X Y INDEX SPECIAL
  [store_unit]
    [filter]
      x,y={X},{Y}
    [/filter]
    variable=enemyspecs
  [/store_unit]
  [object]
    silent=yes
    duration=forever
    [filter]
      x,y={X},{Y}
    [/filter]
    [effect]
      apply_to=attack
      range=$enemyspecs.attack[{INDEX}].range
      type=$enemyspecs.attack[{INDEX}].type
      name=$enemyspecs.attack[{INDEX}].name
      [set_specials]
        mode=append
        {WEAPON_SPECIAL_{SPECIAL}}
      [/set_specials]
    [/effect]
  [/object]
  {CLEAR_VARIABLE enemyspecs}
#enddef

#define SXC_ENEMY_LEADER_SPECIALS SIDE INDEX SPECIAL
  [store_unit]
    [filter]
      side={SIDE}
      canrecruit=yes
    [/filter]
    variable=enemyspecs
  [/store_unit]
  [object]
    silent=yes
    duration=forever
    [filter]
      side={SIDE}
      canrecruit=yes
    [/filter]
    [effect]
      apply_to=attack
      range=$enemyspecs.attack[{INDEX}].range
      type=$enemyspecs.attack[{INDEX}].type
      name=$enemyspecs.attack[{INDEX}].name
      [set_specials]
        mode=append
        {WEAPON_SPECIAL_{SPECIAL}}
      [/set_specials]
    [/effect]
  [/object]
  {CLEAR_VARIABLE enemyspecs}
#enddef

#define SXC_ENEMY_SPECIALS_TYPE X Y INDEX SPECIAL RANGE TYPE
  [store_unit]
    [filter]
      x,y={X},{Y}
    [/filter]
    variable=enemyspecs
  [/store_unit]
  [object]
    silent=yes
    duration=forever
    [filter]
      x,y={X},{Y}
    [/filter]
    [effect]
      apply_to=attack
      range={RANGE}
      type={TYPE}
      name=$enemyspecs.attack[{INDEX}].name
      [set_specials]
        mode=append
        {WEAPON_SPECIAL_{SPECIAL}}
      [/set_specials]
    [/effect]
  [/object]
  {CLEAR_VARIABLE enemyspecs}
#enddef

#define SXC_MODIFY_UNIT_MOVEMENT_COSTS X Y CS CV DW FL FO FR FU HI IM MO RE SA SH SW UN VI
  [object]
    silent=yes
    duration=forever
    [filter]
      x,y={X},{Y}
    [/filter]
    [effect]
      apply_to=movement_costs
      replace=yes
      [movement_costs]
        castle={CS}
        cave={CV}
        deep_water={DW}
        flat={FL}
        forest={FO}
        frozen={FR}
        fungus={FU}
        hills={HI}
        impassable={IM}
        mountains={MO}
        reef={RE}
        sand={SA}
        shallow_water={SH}
        swamp_water={SW}
        unwalkable={UN}
        village={VI}
      [/movement_costs]
    [/effect]
  [/object]
#enddef

#define SXC_ENEMY_WEAPON_MA
  {SXC_ENEMY_WEAPON_ARCANE 5 2}
#enddef

#define SXC_ENEMY_WEAPON_MB
  {SXC_ENEMY_WEAPON_BLADE 5 2}
#enddef

#define SXC_ENEMY_WEAPON_MC
  {SXC_ENEMY_WEAPON_COLD 5 2}
#enddef

#define SXC_ENEMY_WEAPON_MF
  {SXC_ENEMY_WEAPON_FIRE 5 2}
#enddef

#define SXC_ENEMY_WEAPON_MI
  {SXC_ENEMY_WEAPON_IMPACT 5 2}
#enddef

#define SXC_ENEMY_WEAPON_MP
  {SXC_ENEMY_WEAPON_PIERCE 5 2}
#enddef

#define SXC_ENEMY_WEAPON_MFO
  {SXC_ENEMY_WEAPON_FORCE 5 2}
#enddef

#define SXC_ENEMY_WEAPON_RA
  {SXC_ENEMY_WEAPON_ARCANE_MISSILE 8 3}
#enddef

#define SXC_ENEMY_WEAPON_RB
  {SXC_ENEMY_WEAPON_BLADE_MISSILE 8 3}
#enddef

#define SXC_ENEMY_WEAPON_RC
  {SXC_ENEMY_WEAPON_COLD_MISSILE 8 3}
#enddef

#define SXC_ENEMY_WEAPON_RF
  {SXC_ENEMY_WEAPON_FIRE_MISSILE 8 3}
#enddef

#define SXC_ENEMY_WEAPON_RI
  {SXC_ENEMY_WEAPON_IMPACT_MISSILE 8 3}
#enddef

#define SXC_ENEMY_WEAPON_RP
  {SXC_ENEMY_WEAPON_PIERCE_MISSILE 8 3}
#enddef

#define SXC_ENEMY_WEAPON_RFO
  {SXC_ENEMY_WEAPON_FORCE_MISSILE 5 2}
#enddef

#define SXC_ENEMY_M TERRAIN
#enddef

#define SXC_ENEMY_S TERRAIN
  [effect]
    apply_to=movement_costs
    replace=yes
    [movement_costs]
      castle=50
      cave=50
      deep_water=50
      flat=50
      forest=50
      frozen=50
      fungus=50
      hills=50
      impassable=50
      mountains=50
      reef=50
      sand=50
      shallow_water=50
      swamp_water=50
      unwalkable=50
      village=50
      {TERRAIN}=1
    [/movement_costs]
  [/effect]
#enddef

#define SXC_ENEMY_GUARD_3 MF TERRAIN X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SXC_ENEMY_WEAPON_{W1}}
        {SXC_ENEMY_WEAPON_{W2}}
        {SXC_ENEMY_WEAPON_{W3}}
        {SXC_ENEMY_WEAPON_{W4}}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        {SXC_ENEMY_{MF} {TERRAIN}}
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_LEADER_2 X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    canrecruit=yes
    side={SIDE}
    role=boss
    generate_name=yes
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      [object]
        silent=yes
        duration=forever
        {SXC_ENEMY_WEAPON_{W1}}
        {SXC_ENEMY_WEAPON_{W2}}
        {SXC_ENEMY_WEAPON_{W3}}
        {SXC_ENEMY_WEAPON_{W4}}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_GOLD_2 AMOUNT X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  {SXC_ENEMY_MB_2 $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES} {W1} {W2} {W3} {W4}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type CHEST_GOLD}
  {VARIABLE moving_bosses[$mvbindex|].amount {AMOUNT}}
  {VARIABLE_OP units_index add 1}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_ITEM_2 ITEM X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  {SXC_ENEMY_MB_2 $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES} {W1} {W2} {W3} {W4}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type {ITEM}}
  {VARIABLE_OP units_index add 1}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_MB_2 ID X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    id=Boss_{ID}
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SXC_ENEMY_WEAPON_{W1}}
        {SXC_ENEMY_WEAPON_{W2}}
        {SXC_ENEMY_WEAPON_{W3}}
        {SXC_ENEMY_WEAPON_{W4}}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_WEAPON_ARCANE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "blessed dagger"
    icon=attacks/dagger-human.png
    type=arcane
    range=melee
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "blessed dagger"
      [/filter_attack]
      [frame]
        begin=-150
        end=-100
      [/frame]
      [if]
        hits=no
        [frame]
          begin=-100
          end=100
          sound={SOUND_LIST:MISS},{SOUND_LIST:HOLY_MISS}
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=-100
          end=100
          sound=dagger-swish.wav,{SOUND_LIST:HOLY}
        [/frame]
      [/else]
      [frame]
        begin=100
        end=150
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_BLADE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "short sword"
    icon=attacks/sword-human-short.png
    type=blade
    range=melee
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "short sword"
      [/filter_attack]
      [frame]
        begin=-150
        end=-100
      [/frame]
      [if]
        hits=no
        [frame]
          begin=-100
          end=100
          sound={SOUND_LIST:MISS}
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=-100
          end=100
          sound={SOUND_LIST:SWORD_SWISH}
        [/frame]
      [/else]
      [frame]
        begin=100
        end=150
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_COLD DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "cold touch"
    icon=attacks/touch-undead.png
    type=cold
    range=melee
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "cold touch"
      [/filter_attack]
      [frame]
        begin=-150
        end=-100
      [/frame]
      [if]
        hits=no
        [frame]
          begin=-100
          end=100
          sound={SOUND_LIST:MISS}
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=-100
          end=100
          sound=wail-sml.wav
        [/frame]
      [/else]
      [frame]
        begin=100
        end=150
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_FIRE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "torch"
    icon=attacks/torch.png
    type=fire
    range=melee
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "torch"
      [/filter_attack]
      [frame]
        begin=-150
        end=-100
      [/frame]
      [if]
        hits=no
        [frame]
          begin=-100
          end=100
          sound=torch-miss.ogg
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=-100
          end=100
          sound=torch.ogg
        [/frame]
      [/else]
      [frame]
        begin=100
        end=150
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_IMPACT DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "fist"
    icon=attacks/fist.png
    type=impact
    range=melee
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "fist"
      [/filter_attack]
      [frame]
        begin=-150
        end=-100
      [/frame]
      [if]
        hits=no
        [frame]
          begin=-100
          end=100
          sound={SOUND_LIST:MISS}
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=-100
          end=100
          sound=fist.ogg
        [/frame]
      [/else]
      [frame]
        begin=100
        end=150
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_PIERCE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "pike"
    icon=attacks/pike.png
    type=pierce
    range=melee
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "pike"
      [/filter_attack]
      [frame]
        begin=-150
        end=-100
      [/frame]
      [if]
        hits=no
        [frame]
          begin=-100
          end=100
          sound=spear-miss.ogg
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=-100
          end=100
          sound=spear.ogg
        [/frame]
      [/else]
      [frame]
        begin=100
        end=150
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_ARCANE_MISSILE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "dark blessing"
    icon=attacks/magic-missile.png
    type=arcane
    range=ranged
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "dark blessing"
      [/filter_attack]
      [missile_frame]
        begin=-180
        end=0
        image="projectiles/whitemissile-n.png"
        image_diagonal="projectiles/whitemissile-ne.png"
        halo=halo/holy/white-mage-halo1.png,halo/holy/white-mage-halo2.png,halo/holy/white-mage-halo3.png,halo/holy/white-mage-halo4.png
      [/missile_frame]
      [frame]
        begin=-300
        end=-225
      [/frame]
      [frame]
        begin=-225
        end=-150
      [/frame]
      [frame]
        begin=-150
        end=-75
        halo=halo/holy/halo6.png
      [/frame]
      [if]
        hits=yes
        [frame]
          begin=-75
          end=0
          sound={SOUND_LIST:HOLY}
          halo=halo/holy/halo1.png
        [/frame]
      [/if]
      [else]
        hits=no
        [frame]
          begin=-75
          end=0
          sound={SOUND_LIST:HOLY_MISS}
          halo=halo/holy/halo1.png
        [/frame]
      [/else]
      [frame]
        begin=0
        end=75
        halo=halo/holy/halo3.png
      [/frame]
      [frame]
        begin=75
        end=150
        halo=halo/holy/halo5.png
      [/frame]
      [frame]
        begin=150
        end=200
        halo=halo/holy/halo6.png
      [/frame]
      [frame]
        begin=200
        end=250
      [/frame]
      [frame]
        begin=250
        end=300
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_BLADE_MISSILE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "throwing knives"
    icon=attacks/dagger-thrown-human.png
    type=blade
    range=ranged
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "throwing knives"
      [/filter_attack]
      [missile_frame]
        begin=-150
        end=0
        image="projectiles/dagger-n.png"
        image_diagonal="projectiles/dagger-ne.png"
      [/missile_frame]
      [frame]
        begin=-225
        end=-150
      [/frame]
      [if]
        hits=yes
        [frame]
          begin=-150
          end=100
          sound=throwing-knife.ogg
        [/frame]
      [/if]
      [else]
        hits=no
        [frame]
          begin=-150
          end=100
          sound=throwing-knife-miss.ogg
        [/frame]
      [/else]
      [frame]
        begin=100
        end=175
        halo=halo/holy/halo3.png
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_COLD_MISSILE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "chill wave"
    icon=attacks/iceball.png
    type=cold
    range=ranged
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "chill wave"
      [/filter_attack]
      [missile_frame]
        begin=-150
        end=50
        image="projectiles/darkmissile-n.png"
        image_diagonal="projectiles/darkmissile-ne.png"
      [/missile_frame]
      [frame]
        begin=-225
        end=-150
        halo=halo/undead/dark-magic-1.png
        halo_x,halo_y=0,-12
      [/frame]
      [frame]
        begin=-150
        end=-75
        halo=halo/undead/dark-magic-2.png
        halo_x,halo_y=0,-12
      [/frame]
      [frame]
        begin=-75
        end=0
        halo=halo/undead/dark-magic-3.png
        halo_x,halo_y=0,-12
      [/frame]
      [frame]
        begin=0
        end=75
        halo=halo/undead/dark-magic-4.png
        halo_x,halo_y=0,-12
      [/frame]
      [frame]
        begin=75
        end=150
        halo=halo/undead/dark-magic-5.png
        halo_x,halo_y=0,-12
      [/frame]
      [if]
        hits=yes
        [frame]
          begin=150
          end=225
          halo=halo/undead/dark-magic-6.png
          halo_x,halo_y=0,-12
          sound=magic-dark.ogg
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=150
          end=225
          halo=halo/undead/dark-magic-6.png
          halo_x,halo_y=0,-12
          sound=magic-dark-miss.ogg
        [/frame]
      [/else]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_FIRE_MISSILE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "flaming dart"
    icon=attacks/torch.png
    type=fire
    range=ranged
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "flaming dart"
      [/filter_attack]
      [missile_frame]
        begin=-150
        end=0
        image="projectiles/missile-fire-n.png"
        image_diagonal="projectiles/missile-fire-ne.png"
      [/missile_frame]
      [if]
        hits=no
        [frame]
          begin=-400
          end=350
          sound={SOUND_LIST:MISS}
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=-400
          end=350
          sound=dart.wav
        [/frame]
      [/else]
      [frame]
        begin=-350
        end=-300
      [/frame]
      [frame]
        begin=-300
        end=-250
      [/frame]
      [frame]
        begin=-250
        end=-100
      [/frame]
      [frame]
        begin=-100
        end=-50
      [/frame]
      [frame]
        begin=-50
        end=100
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_IMPACT_MISSILE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "thrown stones"
    icon=attacks/rock_thrown.png
    type=impact
    range=ranged
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "thrown stones"
      [/filter_attack]
      [missile_frame]
        begin=-100
        end=100
        image="projectiles/stone.png"
        image_diagonal="projectiles/stone.png"
      [/missile_frame]
      [frame]
        begin=-300
        end=-100
      [/frame]
      [if]
        hits=yes
        [frame]
          begin=-100
          end=100
          sound=tail.ogg
        [/frame]
      [/if]
      [else]
        hits=no
        [frame]
          begin=-100
          end=100
          sound=throw-1.wav
        [/frame]
      [/else]
      [frame]
        begin=100
        end=300
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SXC_ENEMY_WEAPON_PIERCE_MISSILE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "crossbow"
    icon=attacks/crossbow-undead.png
    type=pierce
    range=ranged
    damage={DAM}
    number={SRK}
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "crossbow"
      [/filter_attack]
      [missile_frame]
        begin=-75
        end=75
        image="projectiles/missile-n.png"
        image_diagonal="projectiles/missile-ne.png"
      [/missile_frame]
      [frame]
        begin=-150
        end=-75
      [/frame]
      [if]
        hits=yes
        [frame]
          begin=-75
          end=75
          sound=crossbow.ogg
        [/frame]
      [/if]
      [else]
        hits=no
        [frame]
          begin=-75
          end=75
          sound=crossbow-miss.ogg
        [/frame]
      [/else]
      [frame]
        begin=75
        end=150
      [/frame]
    [/attack_anim]
  [/effect]
#enddef
